<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Sandoudaa âœ¨</title>
  <style>
    :root{
      --pink:#ff4fa3;
      --lav:#b96bff;
      --sky:#5bd5ff;
      --stroke: rgba(255,255,255,.22);
      --shadow: 0 18px 60px rgba(0,0,0,.28);
      --r: 22px;
      }  
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:#fff; background:#050512;}
    body{overflow:hidden; -webkit-tap-highlight-color: transparent;}

    /* ===== Aurora background ===== */
    .bg{position:fixed; inset:0; z-index:-5; overflow:hidden;
      background:
        radial-gradient(1200px 800px at 15% 10%, rgba(255,79,163,.22), transparent 60%),
        radial-gradient(900px 700px at 85% 30%, rgba(91,213,255,.18), transparent 55%),
        radial-gradient(1200px 900px at 50% 92%, rgba(185,107,255,.18), transparent 60%),
        linear-gradient(180deg, #07071a 0%, #050513 60%, #04040d 100%);
    }
    .aurora{position:absolute; inset:-30%; filter: blur(44px) saturate(1.2); opacity:.9;
      background:
        radial-gradient(closest-side at 20% 30%, rgba(255,79,163,.55), transparent 60%),
        radial-gradient(closest-side at 72% 38%, rgba(91,213,255,.45), transparent 60%),
        radial-gradient(closest-side at 55% 75%, rgba(185,107,255,.45), transparent 65%);
      animation: drift 12s ease-in-out infinite alternate;
      transform: translate3d(0,0,0);
    }
    @keyframes drift{
      from{transform:translate3d(-2%,-2%,0) rotate(-3deg) scale(1.02)}
      to{transform:translate3d(2%,2%,0) rotate(3deg) scale(1.05)}
    }

    /* FX canvas */
    #fx{position:fixed; inset:0; z-index:-2; width:100%; height:100%; pointer-events:none;}

    /* ===== App shell (no scroll) ===== */
    .app{
      height:100%;
      display:flex;
      flex-direction:column;
      padding: env(safe-area-inset-top) 14px env(safe-area-inset-bottom);
      gap: 12px;
      max-width: 900px;
      margin: 0 auto;
    }

    /* Progress dots (no bar) */
    .progressWrap{
      display:flex;
      justify-content:center;
      padding-top: 6px;
      pointer-events:auto;
      user-select:none;
    }
    .progress{display:flex; gap:6px;}
    .p{width:7px; height:7px; border-radius:999px; background: rgba(255,255,255,.22); cursor:pointer;}
    .p.on{background: linear-gradient(135deg, var(--pink), var(--lav)); box-shadow: 0 0 12px rgba(255,79,163,.35);}

    .stage{
      flex:1;
      position:relative;
      overflow:hidden;
      border-radius: var(--r);
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.08);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
    }

    .screen{
      position:absolute; inset:0;
      padding: 18px 16px;
      display:none;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
      opacity:0;
      transform: translateX(14px) scale(.98);
      transition: opacity .45s ease, transform .45s ease;
    }
    .screen.active{display:flex; opacity:1; transform: translateX(0) scale(1);}

    .title{
      font-size: clamp(44px, 8vw, 72px);
      font-weight:900;
      line-height:1;
      margin: 0 0 8px;
      user-select:none;
      text-shadow: 0 12px 36px rgba(0,0,0,.35);
    }
    .glow{
      background: linear-gradient(90deg, var(--pink), var(--lav), var(--sky));
      -webkit-background-clip:text; background-clip:text;
      color: transparent;
      filter: drop-shadow(0 18px 35px rgba(255,79,163,.18));
    }
    .sub{margin: 0; opacity:.92; font-size: clamp(14px, 3.7vw, 18px); max-width: 52ch; line-height:1.5;}

    .btnRow{display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top: 16px;}
    .btn{
      border:none; border-radius:999px;
      padding: 13px 18px;
      font-weight:800;
      cursor:pointer;
      color:#0b0b14;
      background: linear-gradient(135deg, #ff4fa3, #ffd1ea);
      box-shadow: 0 14px 44px rgba(255,79,163,.24);
    }
    .btn:active{transform: scale(.98)}
    .btn2{background: rgba(255,255,255,.12); color:#fff; border: 1px solid rgba(255,255,255,.22); box-shadow:none;}

    /* Orbs */
    .orbs{
      width:100%;
      max-width: 760px;
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 12px;
      margin-top: 14px;
    }
    @media (min-width: 560px){ .orbs{grid-template-columns: repeat(3, minmax(0,1fr));} }
    .orb{
      position:relative;
      min-height: 92px;
      border-radius: 18px;
      overflow:hidden;
      user-select:none;
      cursor:pointer;
      background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
      border: 1px solid rgba(255,255,255,.22);
      box-shadow: 0 14px 40px rgba(0,0,0,.2);
      display:flex; align-items:center; justify-content:center;
      padding: 12px;
      text-align:center;
    }
    .orb::before{
      content:"";
      position:absolute; inset:-40%;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,79,163,.55), transparent 55%),
        radial-gradient(circle at 70% 60%, rgba(91,213,255,.45), transparent 55%),
        radial-gradient(circle at 40% 80%, rgba(185,107,255,.45), transparent 60%);
      filter: blur(22px);
      opacity:.55;
      animation: orbFloat 6s ease-in-out infinite alternate;
    }
    @keyframes orbFloat{from{transform: translate(-2%,-1%) rotate(-6deg)} to{transform: translate(2%,1%) rotate(6deg)}}
    .orb .front, .orb .back{position:relative; z-index:2; transition: transform .5s ease, opacity .5s ease;}
    .orb .back{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      padding: 12px;
      opacity:0;
      transform: translateY(6px) scale(.98);
      font-weight: 800;
    }
    .orb.revealed .front{opacity:0; transform: translateY(-6px) scale(.98);}
    .orb.revealed .back{opacity:1; transform: translateY(0) scale(1);}

    /* Photos deck */
    .photoDeck{width:100%; max-width: 420px; margin-top: 14px;}
    .photoCard{
      background: rgba(255,255,255,.14);
      border:1px solid rgba(255,255,255,.22);
      border-radius: 18px;
      padding: 10px;
      box-shadow: 0 16px 45px rgba(0,0,0,.25);
      user-select:none;
      cursor:pointer;
    }
    .photoCard img{
      width:100%;
      aspect-ratio: 3/4;
      object-fit: cover;
      border-radius: 14px;
      display:block;
      background: rgba(255,255,255,.08);
    }
    .cap{font-size: 12px; opacity:.9; margin-top: 10px; line-height:1.35;}

    /* Bottom nav */
    .nav{display:flex; gap:10px; justify-content:space-between; align-items:center;}
    .nav .btn{flex:1}

    /* Modal viewer */
    .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,.62); z-index: 50; padding: 18px;}
    .modal.show{display:flex;}
    .viewer{
      width: min(520px, 100%);
      border-radius: 22px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 26px 90px rgba(0,0,0,.5);
    }
    .viewer img{width:100%; height:auto; display:block; background:#0b0b14;}
    .vbar{display:flex; align-items:center; justify-content:space-between; gap: 10px; padding: 12px 14px;}
    .vbtn{
      border:none;
      background: rgba(255,255,255,.12);
      border: 1px solid rgba(255,255,255,.22);
      color:#fff;
      padding: 10px 12px;
      border-radius: 14px;
      font-weight: 900;
      cursor:pointer;
    }
    .vbtn:active{transform: scale(.98)}
    .vtxt{font-size: 12px; opacity:.9}

    /* Toast */
    .toast{
      position:fixed;
      left:50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(255,255,255,.14);
      border: 1px solid rgba(255,255,255,.22);
      color:#fff;
      padding: 10px 14px;
      border-radius: 999px;
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      opacity:0;
      pointer-events:none;
      transition: opacity .25s ease, transform .25s ease;
      z-index: 60;
      font-size: 12px;
    }
    .toast.show{opacity:1; transform: translateX(-50%) translateY(-4px);}

    @media (prefers-reduced-motion: reduce){
      .aurora, .orb::before{animation:none}
      .screen{transition:none}
    }
  </style>
</head>
<body>
  <div class="bg"><div class="aurora"></div></div>
  <canvas id="fx"></canvas>

  <div class="app">
    <!-- progress dots only -->
    <div class="progressWrap">
      <div class="progress" id="progress"></div>
    </div>

    <div class="stage">
      <!-- Screen 0 -->
      <div class="screen active" data-i="0">
        <h1 class="title" id="nameTap"><span class="glow">Sandoudaa</span> âœ¨</h1>
        <p class="sub">Today is your birthday.<br />And honestlyâ€¦ it felt right to do something just for you, habibi.</p>
        <div class="btnRow">
          <button class="btn" id="next0">Enter your world</button>
        </div>
      </div>

      <!-- Screen 1 -->
      <div class="screen" data-i="1">
        <h2 style="margin:0 0 8px; font-size: 22px;">Just a few things about you, Sandoudtii ðŸ’–</h2>
        <p class="sub">Tap theseâ€¦ theyâ€™re just things I genuinely love about you.</p>

        <div class="orbs" id="orbs">
          <div class="orb"><div class="front">âœ¨ Your personality</div><div class="back">Natural. Real. Effortlessly you.</div></div>
          <div class="orb"><div class="front">ðŸŒ™ The way you talk</div><div class="back">The way you explain whatâ€™s in your mind is beautiful.</div></div>
          <div class="orb"><div class="front">ðŸ§  Your intelligence</div><div class="back">Smart without trying. And thatâ€™s rare.</div></div>
          <div class="orb"><div class="front">ðŸ’ª How capable you are</div><div class="back">You handle more than you realize â€” and you do it so well.</div></div>
          <div class="orb"><div class="front">ðŸŒˆ So many little things</div><div class="back">Honestlyâ€¦ too many to count.</div></div>
          <div class="orb"><div class="front">ðŸ¦‹ Your presence</div><div class="back">You make life feel lighter just by being there.</div></div>
        </div>
      </div>

      <!-- Screen 2 -->
      <div class="screen" data-i="2">
        <h2 style="margin:0 0 8px; font-size: 22px;">You, being you ðŸ“¸</h2>
        <p class="sub">Some moments of you. Nothing fancy. Just you being you.</p>

        <div class="photoDeck">
          <div class="photoCard" id="photoCard">
            <img id="deckImg" src="" alt="photo" />
            <div class="cap" id="deckCap"></div>
          </div>
        </div>

        <div class="btnRow" style="margin-top:12px;">
          <button class="btn btn2" id="deckPrev">âŸµ</button>
          <button class="btn" id="deckNext">âŸ¶</button>
        </div>
      </div>

      <!-- Screen 3 -->
      <div class="screen" data-i="3">
        <h2 style="margin:0 0 8px; font-size: 22px;">Things you probably donâ€™t even notice âœ¨</h2>
        <p class="sub">Tap if youâ€™re curious. These are just true.</p>

        <div class="orbs" id="truthOrbs">
          <div class="orb"><div class="front">ðŸ’– Fact 1</div><div class="back">You make people feel comfortable just by being there.</div></div>
          <div class="orb"><div class="front">ðŸŒŸ Fact 2</div><div class="back">Youâ€™re stronger than you think.</div></div>
          <div class="orb"><div class="front">ðŸŒ™ Fact 3</div><div class="back">You matter more than you know.</div></div>
          <div class="orb"><div class="front">ðŸª„ Fact 4</div><div class="back">You leave an impact without even trying.</div></div>
          <div class="orb"><div class="front">ðŸŒˆ Fact 5</div><div class="back">This year made me love you even more.</div></div>
          <div class="orb"><div class="front">ðŸŽ€ Fact 6</div><div class="back">You are rare. And youâ€™re exactly enough.</div></div>
        </div>
      </div>

      <!-- Screen 4 -->
      <div class="screen" data-i="4">
        <h2 style="margin:0 0 10px; font-size: 22px;">One last thing ðŸ’Œ</h2>
        <p class="sub" style="max-width: 52ch;">
          I love your personality.<br />
          I love how you talk, how you explain whatâ€™s in your mind, how smart and capable you are.<br /><br />
          This year made me realize how much more I love you, without even trying to.<br /><br />
          <strong>Being with you genuinely makes me happy.</strong><br /><br />
          Happy Birthday, Sandoudtii ðŸŽ‚<br />
          w n7ebeek barchaaa wlhh rabiii y5aliik w yfadhleek laya nchlhhh<br/> w nchlhh yet3adelek nhar w 3am mezyen kifeh habibiii <br/>
          Iâ€™m really happy to be with you, habibi.
        </p>

        <div class="btnRow" style="margin-top: 18px;">
          <button class="btn" id="wishBtn">Make a wish âœ¨</button>
          <button class="btn btn2" id="replayBtn">Replay</button>
        </div>
      </div>
    </div>

    <div class="nav">
      <button class="btn btn2" id="backBtn">Back</button>
      <button class="btn" id="nextBtn">Next</button>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="viewer">
      <img id="modalImg" alt="photo" />
      <div class="vbar">
        <button class="vbtn" id="prevBtn">âŸµ</button>
        <div class="vtxt" id="vtxt">1 / 9</div>
        <button class="vbtn" id="nextImgBtn">âŸ¶</button>
        <button class="vbtn" id="closeBtn">âœ•</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">âœ¨</div>

  <script>
    /* =========================
       Slides: no scroll, next/back
    ========================== */
    const screens = Array.from(document.querySelectorAll('.screen'));
    const total = screens.length;
    let idx = 0;

    const backBtn = document.getElementById('backBtn');
    const nextBtn = document.getElementById('nextBtn');

    // Progress dots (clickable)
    const progress = document.getElementById('progress');
    for(let i=0;i<total;i++){
      const d = document.createElement('div');
      d.className = 'p' + (i===0?' on':'');
      d.addEventListener('click', (e)=>{ sparkleAt(e.clientX, e.clientY, 10); show(i); });
      progress.appendChild(d);
    }
    function setProgress(i){
      [...progress.children].forEach((p,k)=> p.classList.toggle('on', k===i));
    }

    function show(i){
      idx = Math.max(0, Math.min(total-1, i));
      screens.forEach(s => s.classList.remove('active'));
      screens[idx].classList.add('active');
      setProgress(idx);

      backBtn.style.visibility = idx===0 ? 'hidden' : 'visible';
      nextBtn.textContent = idx===total-1 ? 'Done' : 'Next';

      if(idx === 2) renderDeck(); // ensure photos are refreshed
    }

    backBtn.addEventListener('click', (e)=>{ sparkleAt(e.clientX, e.clientY, 12); show(idx-1); });
    nextBtn.addEventListener('click', (e)=>{
      sparkleAt(e.clientX, e.clientY, 12);
      if(idx===total-1){ launchFireworks(2); softToast('ðŸ’– Happy Birthday Sandoudaa'); return; }
      show(idx+1);
    });

    document.getElementById('next0').addEventListener('click', (e)=>{ sparkleAt(e.clientX, e.clientY, 18); show(1); });

    /* =========================
       Orbs flip
    ========================== */
    function setupOrbs(containerId){
      const el = document.getElementById(containerId);
      el.querySelectorAll('.orb').forEach(orb => {
        orb.addEventListener('click', (e) => {
          orb.classList.toggle('revealed');
          sparkleAt(e.clientX, e.clientY, 12);
          softToast(orb.classList.contains('revealed') ? 'âœ¨' : 'â†©ï¸');
        });
      });
    }
    setupOrbs('orbs');
    setupOrbs('truthOrbs');

    /* =========================
       Photos deck (p1.jpg ... p9.jpg)
    ========================== */
    const photos = [
      { src: 'p1.jpg', cap: 'You donâ€™t try to shine. You just do.' },
      { src: 'p2.jpg', cap: 'The smile the world needs more of.' },
      { src: 'p3.jpg', cap: 'Beautiful in the most natural way.' },
      { src: 'p4.jpg', cap: 'A whole universe in one person.' },
      { src: 'p5.jpg', cap: 'Softâ€¦ and unstoppable.' },
      { src: 'p6.jpg', cap: 'Pure energy. Pure you.' },
      { src: 'p7.jpg', cap: 'Rare, real, unforgettable.' },
      { src: 'p8.jpg', cap: 'Exactly yourself â€” perfect.' },
      { src: 'p9.jpg', cap: 'A little magic, every day.' }
    ];

    let current = 0;

    const deckImg = document.getElementById('deckImg');
    const deckCap = document.getElementById('deckCap');
    const deckPrev = document.getElementById('deckPrev');
    const deckNext = document.getElementById('deckNext');
    const photoCard = document.getElementById('photoCard');

    function renderDeck(){
      deckImg.src = photos[current].src;
      deckCap.textContent = photos[current].cap;
    }

    deckPrev.addEventListener('click', (e)=>{
      sparkleAt(e.clientX, e.clientY, 12);
      current = (current - 1 + photos.length) % photos.length;
      renderDeck();
    });

    deckNext.addEventListener('click', (e)=>{
      sparkleAt(e.clientX, e.clientY, 12);
      current = (current + 1) % photos.length;
      renderDeck();
    });

    // Swipe on the deck card
    let dsx=0, dsy=0;
    photoCard.addEventListener('touchstart', (e)=>{
      const t=e.touches[0]; dsx=t.clientX; dsy=t.clientY;
    }, {passive:true});
    photoCard.addEventListener('touchend', (e)=>{
      const t=e.changedTouches[0];
      const dx=t.clientX-dsx, dy=t.clientY-dsy;
      if(Math.abs(dx)>40 && Math.abs(dx)>Math.abs(dy)){
        if(dx<0) deckNext.click(); else deckPrev.click();
      }
    }, {passive:true});

    /* =========================
       Modal viewer + swipe
    ========================== */
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const vtxt = document.getElementById('vtxt');

    function openModal(i){
      current = i;
      updateModal();
      modal.classList.add('show');
    }
    function closeModal(){ modal.classList.remove('show'); }
    function updateModal(){
      modalImg.src = photos[current].src;
      vtxt.textContent = `${current+1} / ${photos.length}`;
    }

    document.getElementById('prevBtn').onclick = () => { current = (current - 1 + photos.length) % photos.length; updateModal(); };
    document.getElementById('nextImgBtn').onclick = () => { current = (current + 1) % photos.length; updateModal(); };
    document.getElementById('closeBtn').onclick = closeModal;
    modal.addEventListener('click', (e) => { if(e.target === modal) closeModal(); });

    let sx=0, sy=0;
    modalImg.addEventListener('touchstart', (e)=>{ const t=e.touches[0]; sx=t.clientX; sy=t.clientY; }, {passive:true});
    modalImg.addEventListener('touchend', (e)=>{
      const t=e.changedTouches[0];
      const dx=t.clientX-sx, dy=t.clientY-sy;
      if(Math.abs(dx)>40 && Math.abs(dx)>Math.abs(dy)){
        if(dx<0) document.getElementById('nextImgBtn').click();
        else document.getElementById('prevBtn').click();
      }
    }, {passive:true});

    // Tap photo to fullscreen
    photoCard.addEventListener('click', (e)=>{ sparkleAt(e.clientX, e.clientY, 14); openModal(current); });

    /* =========================
       Finale buttons
    ========================== */
    document.getElementById('wishBtn').addEventListener('click', (e)=>{
      sparkleAt(e.clientX, e.clientY, 22);
      launchFireworks(3);
      softToast('ðŸŽ‰');
    });
    document.getElementById('replayBtn').addEventListener('click', (e)=>{ sparkleAt(e.clientX, e.clientY, 16); show(0); });

    /* =========================
       Easter egg: tap name 5 times
    ========================== */
    let nameTaps = 0, nameTimer = null;
    document.getElementById('nameTap').addEventListener('click', (e) => {
      sparkleAt(e.clientX, e.clientY, 10);
      nameTaps++;
      clearTimeout(nameTimer);
      nameTimer = setTimeout(()=> nameTaps=0, 1200);
      if(nameTaps >= 5){
        nameTaps = 0;
        launchFireworks(2);
        softToast('ðŸ’–');
      }
    });

    /* =========================
       Sparkles + fireworks canvas
    ========================== */
    const canvas = document.getElementById('fx');
    const ctx = canvas.getContext('2d');
    let W=0,H=0,dpr=1;

    function resize(){
      dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      W = canvas.width  = Math.floor(innerWidth * dpr);
      H = canvas.height = Math.floor(innerHeight * dpr);
      canvas.style.width = innerWidth+'px';
      canvas.style.height = innerHeight+'px';
    }
    window.addEventListener('resize', resize);
    resize();

    const particles = [];
    function sparkleAt(x,y,count=10){
      if(x == null || y == null) return;
      const px = x * dpr, py = y * dpr;
      for(let i=0;i<count;i++){
        const a = Math.random()*Math.PI*2;
        const sp = 2 + Math.random()*6;
        particles.push({
          x:px, y:py,
          vx: Math.cos(a)*sp,
          vy: Math.sin(a)*sp - 1.5,
          life: 28 + Math.random()*18,
          r: 1.5 + Math.random()*2.8,
          hue: 300 + Math.random()*80
        });
      }
    }

    document.addEventListener('pointerdown', (e)=> sparkleAt(e.clientX, e.clientY, 10));
    let lastTrail = 0;
    document.addEventListener('pointermove', (e)=>{
      const now = performance.now();
      if(now - lastTrail > 70){ lastTrail = now; sparkleAt(e.clientX, e.clientY, 3); }
    });

    function tick(){
      ctx.clearRect(0,0,W,H);
      ctx.globalCompositeOperation = 'lighter';
      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];
        p.x += p.vx; p.y += p.vy;
        p.vx *= 0.96; p.vy *= 0.96; p.vy += 0.08;
        p.life -= 1;

        const alpha = Math.max(0, Math.min(1, p.life/40));
        ctx.beginPath();
        ctx.fillStyle = `hsla(${p.hue}, 100%, 70%, ${alpha})`;
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();

        if(p.life <= 0) particles.splice(i,1);
      }
      ctx.globalCompositeOperation = 'source-over';
      requestAnimationFrame(tick);
    }
    tick();

    function launchFireworks(bursts=2){
      for(let b=0;b<bursts;b++){
        setTimeout(()=>{
          const x = innerWidth*(0.2+Math.random()*0.6);
          const y = innerHeight*(0.22+Math.random()*0.35);
          sparkleAt(x,y,90);
        }, b*260);
      }
    }

    /* Toast */
    const toast = document.getElementById('toast');
    let toastT=null;
    function softToast(msg){
      toast.textContent = msg;
      toast.classList.add('show');
      clearTimeout(toastT);
      toastT=setTimeout(()=>toast.classList.remove('show'), 900);
    }

    // Init
    renderDeck();
    show(0);
  </script>
</body>
</html>


